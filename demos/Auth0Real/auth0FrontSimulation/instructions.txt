Im using the api gateway autogenerated SDK for javascript:
https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-generate-sdk-javascript.html

In order to make this work we need to serve our file from a server otherwise corse will block it.
run http-server and go to a browser and paste an ip/htmlfilename

(Remember to enable cors in each method of api gateway)